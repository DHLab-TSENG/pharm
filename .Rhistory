setwd("C:/Users/88697/Documents/GitHub/pharm")
getwd()
pkgdown::build_reference()
load("~/GitHub/pharm/.RData")
install.packages("testthat")
install.packages("testthat")
library(testthat)
usethis::use_test("pharm")
devtools::test()
roxygen2::roxygenise()
devtools::test()
View(sample_data_subset)
pkgdown::build_articles()
pkgdown::build_articles()
pkgdown::build_articles()
pkgdown::build_articles()
pkgdown::build_articles()
pkgdown::build_articles()
pkgdown::build_articles()
pkgdown::build_articles()
pkgdown::build_articles()
pkgdown::build_articles()
pkgdown::build_articles()
pkgdown::build_articles()
pkgdown::build_articles()
library(dplyr)
pkgdown::build_articles()
pkgdown::build_reference()
pkgdown::build_articles()
pkgdown::build_articles()
pkgdown::build_articles()
pkgdown::build_articles()
pkgdown::build_articles()
pkgdown::build_articles()
View(sample_atc_rxcui)
View(sample_atc_rxcui)
pkgdown::build_articles()
pkgdown::build_articles()
pkgdown::build_articles()
pkgdown::build_articles()
pkgdown::build_articles()
pkgdown::build_articles()
pkgdown::build_articles()
pkgdown::build_articles()
pkgdown::build_articles()
pkgdown::build_articles()
pkgdown::build_articles()
pkgdown::build_articles()
pkgdown::build_articles()
pkgdown::build_articles()
pkgdown::build_reference()
library(pharm)
library(dplyr)
knitr::kable(sample_data_subset)
Esophagitis_List <- get.RxCuiViaMaytreat("esophagitis")
Esophagitis_List <- getRxcuiViaMaytreat("esophagitis")
Esophagitis_List <- getRxcuiViaMaytreat("esophagitis")
Esophagitis_List <- getRxcuiViaMaytreat("esophagitis")
install.packages("devtools")
devtools::install_github("DHLab-TSENG/pharm")
library(pharm)
library(pharm)
library(dplyr)
library(pharm)
library(dplyr)
knitr::kable(sample_data_subset)
Esophagitis_List <- getRxcuiViaMaytreat("esophagitis")
View(resATC_Adm.RF)
install.packages("devtools")
devtools::install_github("DHLab-TSENG/pharm")
library(pharm)
install.packages("devtools")
load("~/GitHub/pharm/.RData")
library(pharm)
library(dplyr)
knitr::kable(sample_data_subset)
Esophagitis_List <- getRxcuiViaMaytreat("esophagitis")
source('~/GitHub/pharm/R/getRxcuiViaMaytreat.R')
Esophagitis_List <- getRxcuiViaMaytreat("esophagitis")
head(Esophagitis_List)
pkgdown::build_reference()
rm(list = c("getRxcuiViaMaytreat"))
Esophagitis_List <- getRxcuiViaMaytreat("esophagitis")
knitr::kable(
head(Esophagitis_List)
)
Esophagitis_SBD_SCD_List <- get.SbdScdRxCuiViaRxCui(df = Esophagitis_List[3,],
RxCuiColName = RxCui,
cores = 2)
Esophagitis_SBD_SCD_List <- getSbdScdRxcuiViaRxcui(df = Esophagitis_List[3,],
RxCuiColName = RxCui,
cores = 2)
knitr::kable(
head(Esophagitis_SBD_SCD_List)
)
Esophagitis_NDC_List <- getNdcViaSbdRxcui(df = Esophagitis_SBD_SCD_List[1,],
SBDRxCuiColName = SBD.rxcui,
cores = 2)
knitr::kable(
head(Esophagitis_NDC_List)
)
sample_data_subset_rxcui <- getRxcuiViaNdc(df = sample_data_subset,
NdcColName = NationalDrugCode)
knitr::kable(head(sample_data_subset_rxcui))
sample_data_subset_rxcui <- select(sample_data_subset_rxcui, -ndcStatus)
sample_data_subset_atc <- getAtcViaRxcui(df = sample_data_subset_rxcui,
RxCuiColName = RxCui,
cores = 2,
MatchRoute = FALSE)
knitr::kable(
head(sample_data_subset_atc)
)
sample_atc_rxcui <- getRxcuiViaAtc(df = sample_ATC,
AtcColName = ATC,
cores = 2)
knitr::kable(
head(sample_atc_rxcui)
)
knitr::kable(
head(
getNHINoViaRCFNo(df = sample_taiwan_drug,
RCFNoColName = CGMH_CODE)
)
)
#' Get NHINo via RCFNo
#'
#' @import dplyr
#' @param df data.frame include RCFNO
#' @param RCFNoColName A colum for RCFNo of df
#' @details
#' This function provides user to get Taiwan Health Insurance drug code(NHINo) via Taiwan hospital drug code(RCFNo).
#' @examples
#' # sample of getting NHINo via RCFNo of Chang Gung Medical Hospital.
#' head(getNHINoViaRCFNo(df = sample_taiwan_drug, RCFNoColName = CGMH_CODE))
#' @export
getNHINoViaRCFNo <- function(df, RCFNoColName = RCFNO){
colnames(df)[colnames(df)==deparse(substitute(RCFNoColName))] <- "RCFNO1"
NHINoData <-  df %>% select(RCFNO1) %>% as.data.table()
NHINoData[, RCFNo := substr(RCFNO1, 1, 7)]
NHINoData  <-  left_join(NHINoData, resCGDAx,by = "RCFNo") %>%
select(RCFNO1, NHINO1)
colnames(NHINoData)[colnames(NHINoData)== "RCFNO1"] <- deparse(substitute(RCFNoColName))
return(NHINoData)
}
knitr::kable(
head(
get.AtcViaNHINo(df = sample_nhino_code,
NHINoColName = NHINo)
)
)
knitr::kable(
head(
getAtcViaNHINo(df = sample_nhino_code,
NHINoColName = NHINo)
)
)
knitr::kable(getDrugEra(MemberIDColName = MemberId,
sample_data_subset,
DrugColName = NationalDrugCode,
DispenseDateColName = DispenseDate,
DaysSupplyColName = DaysSupply))
sample_data_subset_atc <- calDailyDosage(df = sample_data_subset_atc,
RxCuiColName = RxCui,
QuantityColName = Quantity,
DaysSupplyConName = DaysSupply,
cores = 2)
load("~/GitHub/pharm/R/sysdata.rda")
sample_data_subset_atc <- calDailyDosage(df = sample_data_subset_atc,
RxCuiColName = RxCui,
QuantityColName = Quantity,
DaysSupplyConName = DaysSupply,
cores = 2)
accumulat_DDD <- calDDDsAccumulat(case = sample_data_subset_atc,
PatientIdColName = MemberId,
DispensingColName = DispenseDate,
AtcCodeColName = ATC,
DailyDosageColName = DailyDosage,
DurationColName = DaysSupply)
accumulat_DDD <- calDDDsAccumulation(case = sample_data_subset_atc,
PatientIdColName = MemberId,
DispensingColName = DispenseDate,
AtcCodeColName = ATC,
DailyDosageColName = DailyDosage,
DurationColName = DaysSupply)
sample_data_subset_atc$Index_Day <- as.Date(c("2032-01-29", "2032-01-29", "2032-01-29", "2032-04-22", "2032-04-22", "2032-04-22", "2032-04-22", "2032-04-22"))
index_DDD <- calDDDsRange(case = sample_data_subset_atc,
index_dayColName = Index_Day,
expo_range_before = 15,
expo_range_after = 30,
idColName = MemberId,
AtcCodeColName = ATC,
DispenseDateColName = DispenseDate,
DaysSupplyColName = DaysSupply,
DailyDosageColName = DailyDosage)
#一階分布
get.ATC1LevelPlot(df = sample_data_ATC1LevelPlot,
ATCColName = ATC,
level = 1)
#一階分布
getATCLevelPlot(df = sample_data_ATC1LevelPlot,
ATCColName = ATC,
level = 1)
#一階分布
getAtcLevelPlot(df = sample_data_ATC1LevelPlot,
ATCColName = ATC,
level = 1)
pkgdown::build_articles()
pkgdown::build_articles()
rlang::last_error()
Esophagitis_List <- getRxcuiViaMaytreat("esophagitis")
knitr::kable(
head(Esophagitis_List)
)
pkgdown::build_articles()
devtools::test()
rm(list = c("getNHINoViaRCFNo"))
devtools::test()
devtools::test()
